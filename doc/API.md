# API 文档

## 用户登录注册模块 loginRegister
### 登录 submitLogin

### API: `/api/user/account/login`

**方法:** `POST`

**描述:** 该 API 端点用于用户登录。它接受用户名和密码，并在登录成功时返回一个令牌。

#### 请求参数

| 参数名   | 类型   | 必填 | 描述           | 示例值         |
|----------|--------|------|----------------|----------------|
| `username` | string | 是   | 尝试登录的用户名 | "exampleUser"  |
| `password` | string | 是   | 尝试登录的用户密码 | "examplePassword" |


#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述登录尝试结果的消息
  "data": {
    "token": "String", // 用于后续请求的认证令牌
    "user": "Object"   // 包含用户详细信息的用户对象
  }
}
```

#### 错误处理

- 如果请求失败，显示错误信息。
- 如果响应码不是 200，显示响应中的错误信息。

----------------------------------------------
### 注册 submitRegister

### API: `/user/account/register`

**方法:** `POST`

**描述:**  该 API 端点用于用户注册。它接受用户名、密码和确认密码，并在注册成功时返回一个响应消息。

#### 请求参数

| 参数名              | 类型   | 必填 | 描述           | 示例值         |
|---------------------|--------|------|----------------|----------------|
| `username`          | string | 是   | 尝试注册的用户名 | "exampleUser"  |
| `password`          | string | 是   | 尝试注册的用户密码 | "examplePassword" |
| `confirmedPassword` | string | 是   | 确认密码，必须与密码一致 | "examplePassword" |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述注册尝试结果的消息
  "data": {}
}
```

#### 错误处理

- 如果请求失败，显示错误信息。
- 如果响应码不是 200，显示响应中的错误信息。

------------------------------------------------------
### 获取当前用户收藏夹列表 getFavorites

### API: `/favorite/get-all/user`

**方法:** `GET`

**描述:** 该 API 端点用于获取当前用户的收藏夹列表。它接受用户 ID 并返回用户的收藏夹数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `uid`  | string | 是   | 用户的唯一标识 | "12345" |


#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": [
    {
      "id": "Number", // 收藏夹项的唯一标识
      "name": "String", // 收藏夹项的名称
      "type": "Number" // 收藏夹项的类型，1 表示默认收藏夹
    }
  ]
}
```

#### 错误处理

- 如果请求失败，显示错误信息。
- 如果响应码不是 200，显示响应中的错误信息。
--------------------------------------------------
### 获取用户赞踩的评论集合 getLikeAndDisLikeComment

### API: `/comment/get-like-and-dislike`

**方法:** `GET`

**描述:** 该 API 端点用于获取当前用户赞踩的评论集合。它接受用户 ID 并返回用户点赞和踩的评论数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `uid`  | string | 是   | 用户的唯一标识 | "12345" |


#### 响应
```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": {
    "userLike": [
      {
        "commentId": "Number", // 评论的唯一标识
        "content": "String" // 评论内容
      }
    ],
    "userDislike": [
      {
        "commentId": "Number", // 评论的唯一标识
        "content": "String" // 评论内容
      }
    ]
  }
}
```

#### 错误处理
- 如果请求失败，显示错误信息。
- 如果响应码不是 200，显示响应中的错误信息。
--------------------------------------------------
## 用户评论模块 comment

### 获取评论树 getCommentTree

### API: `/comment/get`

**方法:** `GET`

**描述:** 该 API 端点用于获取视频的评论树。它接受视频 ID、偏移量和评论类型，并返回评论数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `vid`  | string | 是   | 视频的唯一标识 | "12345" |
| `offset` | number | 是   | 评论的偏移量，用于分页 | 0 |
| `type` | number | 是   | 评论的类型，1 表示热门评论 | 1 |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": {
    "more": "Boolean", // 是否有更多评论
    "comments": [
      {
        "id": "Number", // 评论的唯一标识
        "content": "String", // 评论内容
        "user": {
          "id": "Number", // 用户的唯一标识
          "username": "String" // 用户名
        },
        "replies": [
          {
            "id": "Number", // 回复的唯一标识
            "content": "String", // 回复内容
            "user": {
              "id": "Number", // 用户的唯一标识
              "username": "String" // 用户名
            }
          }
        ]
      }
    ]
  }
}

```
#### 错误处理
-  如果请求失败，显示错误信息
-  如果响应码不是 200，显示响应中的错误信息
------------------------------------------------
### 删除评论 deleteComment

### API: `/comment/delete`

**方法:** `POST`

**描述:** 该 API 端点用于删除指定的评论。它接受评论的唯一标识，并在删除成功时返回一个响应消息。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `id`   | string | 是   | 评论的唯一标识 | "12345" |

#### 响应
```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述删除尝试结果的消息
  "data": {}
}
```

#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
-----------------------------------------------
### 获取UP主觉得很赞 getUpLike

### API: `/comment/get-up-like`

**方法:** `GET`

**描述:** 该 API 端点用于获取 UP 主觉得很赞的评论。它接受 UP 主的用户 ID，并返回这些评论的数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `uid`  | string | 是   | UP 主的用户 ID | "12345" |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": [
    {
      "commentId": "Number", // 评论的唯一标识
      "content": "String", // 评论内容
      "user": {
        "id": "Number", // 用户的唯一标识
        "username": "String" // 用户名
      }
    }
  ]
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
-------------------------------------------------
### 点赞或点踩某条评论 likeOrDislike

### API: `/comment/love-or-not`

**方法:** `POST`

**描述:** 该 API 端点用于点赞或点踩某条评论。它接受评论的唯一标识、点赞或点踩的标志以及设置或取消的标志，并在操作成功时返回一个响应消息。

#### 请求参数

| 参数名  | 类型    | 必填 | 描述                   | 示例值    |
|---------|---------|------|------------------------|-----------|
| `id`    | number  | 是   | 评论的唯一标识         | 12345     |
| `isLike`| boolean | 是   | 是否为点赞操作         | true      |
| `isSet` | boolean | 是   | 是否为设置操作（true 表示设置，false 表示取消） | true      |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述操作尝试结果的消息
  "data": {}
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
-----------------------------------------------
### 发送评论 sendComment

### API: `/comment/add`

**方法:** `POST`

**描述:** 该 API 端点用于发送评论。它接受视频 ID、根评论 ID、父评论 ID、目标用户 ID 和评论内容，并在发送成功时返回一个响应消息。

#### 请求参数

| 参数名       | 类型   | 必填 | 描述               | 示例值         |
|--------------|--------|------|--------------------|----------------|
| `vid`        | string | 是   | 视频的唯一标识     | "12345"        |
| `root_id`    | string | 是   | 根评论的唯一标识   | "67890"        |
| `parent_id`  | string | 是   | 父评论的唯一标识   | "11223"        |
| `to_user_id` | string | 是   | 目标用户的唯一标识 | "44556"        |
| `content`    | string | 是   | 评论内容           | "这是一个评论" |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述发送尝试结果的消息
  "data": {
    "commentId": "Number", // 评论的唯一标识
    "content": "String", // 评论内容
    "user": {
      "id": "Number", // 用户的唯一标识
      "username": "String" // 用户名
    }
  }
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
---------------------------------------------
### 展开更多子评论 getMoreComment

### API: `/comment/reply/get-more`

**方法:** `GET`

**描述:** 该 API 端点用于获取更多子评论。它接受根评论的唯一标识，并返回子评论的数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述           | 示例值 |
|--------|--------|------|----------------|--------|
| `id`   | string | 是   | 根评论的唯一标识 | "12345" |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": [
    {
      "commentId": "Number", // 子评论的唯一标识
      "content": "String", // 子评论内容
      "user": {
        "id": "Number", // 用户的唯一标识
        "username": "String" // 用户名
      }
    }
  ]
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
------------------------------------------------------
### 删除子评论 deleteComment

### API: `/comment/delete`

**方法:** `POST`

**描述:** 该 API 端点用于删除指定的子评论。它接受评论的唯一标识，并在删除成功时返回一个响应消息。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述           | 示例值 |
|--------|--------|------|----------------|--------|
| `id`   | string | 是   | 评论的唯一标识 | "12345" |

#### 响应

```json# API 文档

## 用户登录注册模块 loginRegister
### 登录 submitLogin

### API: `/api/user/account/login`

**方法:** `POST`

**描述:** 该 API 端点用于用户登录。它接受用户名和密码，并在登录成功时返回一个令牌。

#### 请求参数

| 参数名   | 类型   | 必填 | 描述           | 示例值         |
|----------|--------|------|----------------|----------------|
| `username` | string | 是   | 尝试登录的用户名 | "exampleUser"  |
| `password` | string | 是   | 尝试登录的用户密码 | "examplePassword" |


#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述登录尝试结果的消息
  "data": {
    "token": "String", // 用于后续请求的认证令牌
    "user": "Object"   // 包含用户详细信息的用户对象
  }
}
```

#### 错误处理

- 如果请求失败，显示错误信息。
- 如果响应码不是 200，显示响应中的错误信息。

----------------------------------------------
### 注册 submitRegister

### API: `/user/account/register`

**方法:** `POST`

**描述:**  该 API 端点用于用户注册。它接受用户名、密码和确认密码，并在注册成功时返回一个响应消息。

#### 请求参数

| 参数名              | 类型   | 必填 | 描述           | 示例值         |
|---------------------|--------|------|----------------|----------------|
| `username`          | string | 是   | 尝试注册的用户名 | "exampleUser"  |
| `password`          | string | 是   | 尝试注册的用户密码 | "examplePassword" |
| `confirmedPassword` | string | 是   | 确认密码，必须与密码一致 | "examplePassword" |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述注册尝试结果的消息
  "data": {}
}
```

#### 错误处理

- 如果请求失败，显示错误信息。
- 如果响应码不是 200，显示响应中的错误信息。

------------------------------------------------------
### 获取当前用户收藏夹列表 getFavorites

### API: `/favorite/get-all/user`

**方法:** `GET`

**描述:** 该 API 端点用于获取当前用户的收藏夹列表。它接受用户 ID 并返回用户的收藏夹数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `uid`  | string | 是   | 用户的唯一标识 | "12345" |


#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": [
    {
      "id": "Number", // 收藏夹项的唯一标识
      "name": "String", // 收藏夹项的名称
      "type": "Number" // 收藏夹项的类型，1 表示默认收藏夹
    }
  ]
}
```

#### 错误处理

- 如果请求失败，显示错误信息。
- 如果响应码不是 200，显示响应中的错误信息。
--------------------------------------------------
### 获取用户赞踩的评论集合 getLikeAndDisLikeComment

### API: `/comment/get-like-and-dislike`

**方法:** `GET`

**描述:** 该 API 端点用于获取当前用户赞踩的评论集合。它接受用户 ID 并返回用户点赞和踩的评论数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `uid`  | string | 是   | 用户的唯一标识 | "12345" |


#### 响应
```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": {
    "userLike": [
      {
        "commentId": "Number", // 评论的唯一标识
        "content": "String" // 评论内容
      }
    ],
    "userDislike": [
      {
        "commentId": "Number", // 评论的唯一标识
        "content": "String" // 评论内容
      }
    ]
  }
}
```

#### 错误处理
- 如果请求失败，显示错误信息。
- 如果响应码不是 200，显示响应中的错误信息。
--------------------------------------------------
## 用户评论模块 comment

### 获取评论树 getCommentTree

### API: `/comment/get`

**方法:** `GET`

**描述:** 该 API 端点用于获取视频的评论树。它接受视频 ID、偏移量和评论类型，并返回评论数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `vid`  | string | 是   | 视频的唯一标识 | "12345" |
| `offset` | number | 是   | 评论的偏移量，用于分页 | 0 |
| `type` | number | 是   | 评论的类型，1 表示热门评论 | 1 |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": {
    "more": "Boolean", // 是否有更多评论
    "comments": [
      {
        "id": "Number", // 评论的唯一标识
        "content": "String", // 评论内容
        "user": {
          "id": "Number", // 用户的唯一标识
          "username": "String" // 用户名
        },
        "replies": [
          {
            "id": "Number", // 回复的唯一标识
            "content": "String", // 回复内容
            "user": {
              "id": "Number", // 用户的唯一标识
              "username": "String" // 用户名
            }
          }
        ]
      }
    ]
  }
}

```
#### 错误处理
-  如果请求失败，显示错误信息
-  如果响应码不是 200，显示响应中的错误信息
------------------------------------------------
### 删除评论 deleteComment

### API: `/comment/delete`

**方法:** `POST`

**描述:** 该 API 端点用于删除指定的评论。它接受评论的唯一标识，并在删除成功时返回一个响应消息。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `id`   | string | 是   | 评论的唯一标识 | "12345" |

#### 响应
```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述删除尝试结果的消息
  "data": {}
}
```

#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
-----------------------------------------------
### 获取UP主觉得很赞 getUpLike

### API: `/comment/get-up-like`

**方法:** `GET`

**描述:** 该 API 端点用于获取 UP 主觉得很赞的评论。它接受 UP 主的用户 ID，并返回这些评论的数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述       | 示例值 |
|--------|--------|------|------------|--------|
| `uid`  | string | 是   | UP 主的用户 ID | "12345" |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": [
    {
      "commentId": "Number", // 评论的唯一标识
      "content": "String", // 评论内容
      "user": {
        "id": "Number", // 用户的唯一标识
        "username": "String" // 用户名
      }
    }
  ]
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
-------------------------------------------------
### 点赞或点踩某条评论 likeOrDislike

### API: `/comment/love-or-not`

**方法:** `POST`

**描述:** 该 API 端点用于点赞或点踩某条评论。它接受评论的唯一标识、点赞或点踩的标志以及设置或取消的标志，并在操作成功时返回一个响应消息。

#### 请求参数

| 参数名  | 类型    | 必填 | 描述                   | 示例值    |
|---------|---------|------|------------------------|-----------|
| `id`    | number  | 是   | 评论的唯一标识         | 12345     |
| `isLike`| boolean | 是   | 是否为点赞操作         | true      |
| `isSet` | boolean | 是   | 是否为设置操作（true 表示设置，false 表示取消） | true      |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述操作尝试结果的消息
  "data": {}
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
-----------------------------------------------
### 发送评论 sendComment

### API: `/comment/add`

**方法:** `POST`

**描述:** 该 API 端点用于发送评论。它接受视频 ID、根评论 ID、父评论 ID、目标用户 ID 和评论内容，并在发送成功时返回一个响应消息。

#### 请求参数

| 参数名       | 类型   | 必填 | 描述               | 示例值         |
|--------------|--------|------|--------------------|----------------|
| `vid`        | string | 是   | 视频的唯一标识     | "12345"        |
| `root_id`    | string | 是   | 根评论的唯一标识   | "67890"        |
| `parent_id`  | string | 是   | 父评论的唯一标识   | "11223"        |
| `to_user_id` | string | 是   | 目标用户的唯一标识 | "44556"        |
| `content`    | string | 是   | 评论内容           | "这是一个评论" |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述发送尝试结果的消息
  "data": {
    "commentId": "Number", // 评论的唯一标识
    "content": "String", // 评论内容
    "user": {
      "id": "Number", // 用户的唯一标识
      "username": "String" // 用户名
    }
  }
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
---------------------------------------------
### 展开更多子评论 getMoreComment

### API: `/comment/reply/get-more`

**方法:** `GET`

**描述:** 该 API 端点用于获取更多子评论。它接受根评论的唯一标识，并返回子评论的数据。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述           | 示例值 |
|--------|--------|------|----------------|--------|
| `id`   | string | 是   | 根评论的唯一标识 | "12345" |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述请求结果的消息
  "data": [
    {
      "commentId": "Number", // 子评论的唯一标识
      "content": "String", // 子评论内容
      "user": {
        "id": "Number", // 用户的唯一标识
        "username": "String" // 用户名
      }
    }
  ]
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
------------------------------------------------------
### 删除子评论 deleteComment

### API: `/comment/delete`

**方法:** `POST`

**描述:** 该 API 端点用于删除指定的子评论。它接受评论的唯一标识，并在删除成功时返回一个响应消息。

#### 请求参数

| 参数名 | 类型   | 必填 | 描述           | 示例值 |
|--------|--------|------|----------------|--------|
| `id`   | string | 是   | 评论的唯一标识 | "12345" |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述删除尝试结果的消息
  "data": {}
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
--------------------------------------------
### 点赞或点踩某条评论 likeOrDislike

### API: `/comment/love-or-not`

**方法:** `POST`

**描述:** 该 API 端点用于点赞或点踩某条评论。它接受评论的唯一标识、点赞或点踩的标志以及设置或取消的标志，并在操作成功时返回一个响应消息。

#### 请求参数

| 参数名  | 类型    | 必填 | 描述                   | 示例值    |
|---------|---------|------|------------------------|-----------|
| `id`    | number  | 是   | 评论的唯一标识         | 12345     |
| `isLike`| boolean | 是   | 是否为点赞操作         | true      |
| `isSet` | boolean | 是   | 是否为设置操作（true 表示设置，false 表示取消） | true      |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述操作尝试结果的消息
  "data": {}
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
---------------------------------------------------


{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述删除尝试结果的消息
  "data": {}
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
--------------------------------------------
### 点赞或点踩某条评论 likeOrDislike

### API: `/comment/love-or-not`

**方法:** `POST`

**描述:** 该 API 端点用于点赞或点踩某条评论。它接受评论的唯一标识、点赞或点踩的标志以及设置或取消的标志，并在操作成功时返回一个响应消息。

#### 请求参数

| 参数名  | 类型    | 必填 | 描述                   | 示例值    |
|---------|---------|------|------------------------|-----------|
| `id`    | number  | 是   | 评论的唯一标识         | 12345     |
| `isLike`| boolean | 是   | 是否为点赞操作         | true      |
| `isSet` | boolean | 是   | 是否为设置操作（true 表示设置，false 表示取消） | true      |

#### 响应

```json
{
  "code": "Number", // 响应的状态码。200 表示成功
  "message": "String", // 描述操作尝试结果的消息
  "data": {}
}
```
#### 错误处理
- 如果请求失败，显示错误信息
- 如果响应码不是 200，显示响应中的错误信息
---------------------------------------------------

